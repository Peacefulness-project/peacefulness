% LaTeX script
%=================================


\documentclass{standalone}
%
%
%
% Packages
\usepackage{amsmath}
\usepackage{eurosym}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{siunitx}

\usepgfplotslibrary{dateplot}
\pgfplotsset{compat = 1.16}
%
%
% Main
%
\begin{document}

\pgfplotstableread[col sep=semicolon]{C:\Users\y23hallo\PycharmProjects\peacefulness\cases\ValidationCases\Results\ContractsTariffs\Case_2024_10_10-16_42_05\outputs\export_Spent_Money_Alltogether.csv}{\data}

\begin{tikzpicture}
\begin{axis}[
	xmin = 2000-01-01 01:00:00, xmax = 2000-01-02 00:00:00, 
	ymin = 0, ymax = 4.6000000000000005, 
	xlabel = {$t \, [\si{\hour}]$},
	ylabel = {$\mathcal{C}_{ref.} \, [$\euro{}$]$},
	xlabel style = {xshift=0.0cm, yshift=0.0cm},
	ylabel style = {xshift=0.0cm, yshift=0.0cm},
	xticklabel style = {rotate=90, anchor=near xticklabel, xshift=0.0cm, yshift=0.0cm},
	yticklabel style = {rotate=0, anchor=near yticklabel, xshift=0.0cm, yshift=0.0cm},
	%
	date coordinates in = x,
	xticklabel = {\year-\month-\day \, \hour:\minute},
	%
	legend pos = north west,
	legend style = {draw=none, fill=none},
	legend cell align = left,
	legend columns={1},
	legend image post style={scale=1},
	]
	\addplot+[only marks, mark size=1.25] table[ x = physical_time, y = flat_owner.money_spent_reference]{\data};
	\addplot+[only marks, mark size=1.25] table[ x = physical_time, y = TOU_owner.money_spent_reference]{\data};
	\addplot+[only marks, mark size=1.25] table[ x = physical_time, y = RTP_owner.money_spent_reference]{\data};
	\legend{ flat, TOU, RTP}
\end{axis}
\begin{axis}[
	hide x axis,
	axis y line* = right,
	xmin = 2000-01-01 01:00:00, xmax = 2000-01-02 00:00:00, 
	ymin = 0, ymax = 4.6000000000000005, 
	ylabel = {$\mathcal{C}_{num.} \, [$\euro{}$]$},
	ylabel style = {font=\small, xshift=0.0cm, yshift=0.0cm},
	ylabel near ticks,
	yticklabel style = {rotate=0, anchor=near yticklabel, xshift=0.0cm, yshift=0.0cm},
	%
	date coordinates in = x,
	xticklabel = {\year-\month-\day \, \hour:\minute},
	%
	legend pos = north east,
	legend style = {draw=none, fill=none},
	legend cell align = left,
	legend columns={1},
	legend image post style={scale=1},
	]
	\addplot+[mark=none, line width=1.25, densely dashed] table[ x = physical_time, y = flat_owner.money_spent_simulation]{\data};
	\addplot+[mark=none, line width=1.25, densely dashed] table[ x = physical_time, y = TOU_owner.money_spent_simulation]{\data};
	\addplot+[mark=none, line width=1.25, densely dashed] table[ x = physical_time, y = RTP_owner.money_spent_simulation]{\data};
\end{axis}
\end{tikzpicture}

\pgfplotstableclear\data


\end{document}
